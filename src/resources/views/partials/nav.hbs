<style>
  #search-dropdown .search-item {
    padding: 10px 15px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    transition: 0.2s;
  }
  #search-dropdown .search-item:hover {
    background-color: #f1f1f1;
  }
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<body>
  <!-- Carousel Start -->
            <div class="carousel-header">
                <div id="carouselId" class="carousel slide" data-bs-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-bs-target="#carouselId" data-bs-slide-to="0" class="active"></li>
                        <li data-bs-target="#carouselId" data-bs-slide-to="1"></li>
                        <li data-bs-target="#carouselId" data-bs-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner" role="listbox">
                        <div class="carousel-item active">
                            <img src="https://images.unsplash.com/photo-1652254479735-5f7903a590fd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="img-fluid" alt="Image">
                            <div class="carousel-caption">
                                <div class="p-3" style="max-width: 900px;">
                                    <h4 class="text-white text-uppercase fw-bold mb-4" style="letter-spacing: 3px;">Khám phá Việt Nam </h4>
                                    <h5 class="display-2 text-capitalize text-white mb-4">Bạn đã sẵn sàng chưa ?</h5>
                                    <p class="mb-5 fs-5"> Khám phá thế giới theo cách riêng – mỗi hành trình là một câu chuyện đáng nhớ.
                                    </p>
                                    <div class="d-flex align-items-center justify-content-center">
                                        <a class="btn-hover-bg btn btn-primary rounded-pill text-white py-3 px-5" href="/alltour2">Khám phá ngay </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pixabay.com/photo/2018/03/07/07/37/water-3205395_1280.jpg" class="img-fluid" alt="Image">
                            <div class="carousel-caption">
                                <div class="p-3" style="max-width: 900px;">
                                    <h4 class="text-white text-uppercase fw-bold mb-4" style="letter-spacing: 3px;">Bay đi chill, về có cả album sống ảo nghìn like!</h4>
                                    <h5 class="display-2 text-capitalize text-white mb-4">Đi để lớn, đi để yêu, đi để thấy Việt Nam mình đẹp đến thế nào!</h5>
                                    <p class="mb-5 fs-5">Tour đi chill – không drama – chỉ có cảnh đẹp và tiếng cười </p>
                                    <div class="d-flex align-items-center justify-content-center">
                                        <a class="btn-hover-bg btn btn-primary rounded-pill text-white py-3 px-5" href="#">Khám phá ngay</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pixabay.com/photo/2023/04/24/02/57/ha-giang-7947012_1280.jpg" class="img-fluid" alt="Image">
                            <div class="carousel-caption">
                                <div class="p-3" style="max-width: 900px;">
                                    <h4 class="text-white text-uppercase fw-bold mb-4" style="letter-spacing: 3px;">Du lịch không chỉ là đi </h4>
                                    <h5 class="display-2 text-capitalize text-white mb-4">Mà là tận hưởng nghệ thuật sống thượng lưu.</h5>
                                    <p class="mb-5 fs-5">Từ khoảnh khắc khởi hành đến giây phút trở về – mọi thứ đều hoàn hảo. </p>
                                    </p>
                                    <div class="d-flex align-items-center justify-content-center">
                                        <a class="btn-hover-bg btn btn-primary rounded-pill text-white py-3 px-5" href="#">Khám phá ngay</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselId" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon btn bg-primary" aria-hidden="false"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselId" data-bs-slide="next">
                        <span class="carousel-control-next-icon btn bg-primary" aria-hidden="false"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
            <!-- Carousel End -->
        </div>

        <!--Search Bar Start -->
<div class="container-fluid search-bar position-relative" style="top: -50%; transform: translateY(-50%);">
  <div class="container">
    <div class="position-relative rounded-pill w-100 mx-auto p-5" style="background: rgba(19, 53, 123, 0.8);">
      <div class="position-relative w-100">
        <input
          class="form-control border-0 rounded-pill w-100 py-3 ps-4 pe-5"
          type="text"
          id="search-tour"
          placeholder="Tìm kiếm tour..."
          autocomplete="off"
        />
        <button
          type="button"
          class="btn btn-primary rounded-pill py-2 px-4 position-absolute me-2"
          style="top: 50%; right: 46px; transform: translateY(-50%);"
        >
          Search
        </button>

        <!-- Khối gợi ý kết quả -->
        <div
          id="search-dropdown"
          class="bg-white shadow rounded mt-1 position-absolute w-100"
          style="top: 100%; left: 0; display: none; z-index: 9999;"
        ></div>
      </div>
    </div>
  </div>
</div>

        <!-- Navbar & Hero End -->

</body>

<script>
    $(document).ready(function () {
    const $searchInput = $('#search-tour');
    const $dropdown = $('#search-dropdown');

    $searchInput.on('input', function () {
        const keyword = $(this).val().trim();

        if (keyword.length === 0) {
        $dropdown.hide();
        return;
        }

        $.get('/tours/api/search?q=' + encodeURIComponent(keyword), function (data) {
        if (data.length === 0) {
            $dropdown.html('<div class="search-item text-muted">Không tìm thấy tour</div>').show();
            return;
        }

        let html = '';
        data.forEach(function (tour) {
            html += `
            <div class="search-item" onclick="location.href='/tours/${tour.slug}'">
                <div class="d-flex align-items-center">
                <img src="https://img.youtube.com/vi/${tour.videoid}/default.jpg" width="60" height="40" class="me-2 rounded">
                <div>
                    <strong>${tour.name}</strong><br>
                    <small class="text-muted">${tour.thongtin?.slice(0, 50) || ''}</small>
                </div>
                </div>
            </div>
            `;
        });

        $dropdown.html(html).show();
        });
    });

    // Click ngoài vùng tìm kiếm sẽ ẩn dropdown
    $(document).on('click', function (e) {
        if (!$(e.target).closest('.position-relative').length) {
        $dropdown.hide();
        }
    });
    });
</script>
