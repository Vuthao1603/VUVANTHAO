<!DOCTYPE html>
<html lang="en">

    <style>
    #search-dropdown .search-item {
        padding: 10px 15px;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        transition: 0.2s;
    }
    #search-dropdown .search-item:hover {
        background-color: #f8f9fa;
    }
    </style>


    <body>
        <!-- Navbar & Hero Start -->
        <div class="container-fluid position-relative p-0">
            <nav class="navbar navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0">
                <a href="" class="navbar-brand p-0">
                    <h1 class="m-0"><i class="fa fa-map-marker-alt me-3"></i>Travela</h1>
                    <!-- <img src="img/logo.png" alt="Logo"> -->
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="fa fa-bars"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto py-0">
                        <a href="/" class="nav-item nav-link">Trang chủ </a>
                        <a href="/about" class="nav-item nav-link">Thông tin </a>
                        <a href="/services" class="nav-item nav-link">Dịch vụ </a>
                        <a href="/alltour2" class="nav-item nav-link active">Diểm đến</a>
                        <a href="/blog" class="nav-item nav-link">Bài viết </a>
                        <a href="/contact" class="nav-item nav-link">Liên hệ</a>
                    </div>
                    <a href="/alltour2" class="btn btn-primary rounded-pill py-2 px-4 ms-lg-4">Đặt Ngay </a>
                </div>
            </nav>
        </div>
        <!-- Navbar & Hero End -->

        <!-- Header Start -->
        <div class="container-fluid bg-breadcrumb">
            <div class="container text-center py-5" style="max-width: 900px;">
                <h3 class="text-white display-3 mb-4">Travel Packages</h1>
                <ol class="breadcrumb justify-content-center mb-0">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item"><a href="#">Pages</a></li>
                    <li class="breadcrumb-item active text-white">Packages</li>
                </ol>    
            </div>
        </div>
        <!-- Header End -->

        <!-- Packages Start -->


        <!-- Search Wrapper -->
        <div class="container py-5">
        <div class="position-relative" style="max-width: 500px; margin: 0 auto;">
            <div class="input-group shadow-sm">
            <span class="input-group-text bg-white border-end-0"><i class="bi bi-search"></i></span>
            <input type="text" id="search-tour" class="form-control border-start-0" placeholder="Tìm kiếm tour...">
            </div>

            <!-- Khối nổi hiển thị kết quả -->
            <div id="search-dropdown" class="bg-white shadow rounded mt-1 position-absolute w-100" style="display: none; z-index: 9999;">
            <!-- Kết quả sẽ được render tại đây -->
            </div>
        </div>
        </div>



        <div class="container-fluid packages py-5"> 
            <div class="container ">
                <div class="mx-auto text-center " style="max-width: 900px;">
                    <h5 class="section-title px-3">All tour </h5>
                    <h1 class="mb-0">Các điểm đến của chúng tôi </h1>
                </div>
            </div>
        </div>

<div class="container py-5">
    <div class="row g-4">
        {{#each tours}}
        <div class="col-sm-6 col-lg-4 d-flex">
        <div class="card shadow-sm border-0 h-100 d-flex flex-column">
            <a href="/tours/{{this.slug}}" class="d-block overflow-hidden">
            <img src="https://img.youtube.com/vi/{{this.videoid}}/sddefault.jpg" class="card-img-top rounded-top img-hover" alt="{{this.name}}">
            </a>
            <div class="card-body text-center d-flex flex-column">
            <a href="/tours/{{this.slug}}" class="text-decoration-none text-dark">
                <h5 class="card-title fw-bold">{{this.name}}</h5>
            </a>
            <p class="card-text text-muted flex-grow-1">{{this.thongtin}}</p>
            <a href="/tours/{{this.slug}}/book" class="btn btn-primary w-100 btn-hover mt-auto">Đặt ngay</a>
            </div>
        </div>
        </div>
        {{/each}}
    </div>
</div>

        <!-- Packages End -->


    <!-- Tour Booking Start -->
<div class="container-fluid booking py-5">
    <div class="container py-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-6">
                <h5 class="section-booking-title pe-3">Đặt Chuyến Đi</h5>
                <h1 class="text-white mb-4">Đặt Chuyến Đi Trực Tuyến</h1>
                <p class="text-white mb-4">Chúng tôi cung cấp dịch vụ đặt chuyến đi du lịch trực tuyến tiện lợi, giúp bạn dễ dàng lên kế hoạch cho chuyến đi của mình. Bạn chỉ cần lựa chọn địa điểm, thời gian và số lượng người, chúng tôi sẽ hỗ trợ bạn với mọi thủ tục cần thiết để có một chuyến đi hoàn hảo.</p>
                <p class="text-white mb-4">Với các ưu đãi hấp dẫn và dịch vụ chuyên nghiệp, chúng tôi cam kết mang đến cho bạn những trải nghiệm du lịch tuyệt vời nhất. Đặt chuyến đi ngay hôm nay và nhận được những ưu đãi đặc biệt!.</p>
                <a href="#" class="btn btn-light text-primary rounded-pill py-3 px-5 mt-2">Đọc Thêm</a>
            </div>
            <div class="col-lg-6">
                <h1 class="text-white mb-3">Đặt Tour Ưu Đãi</h1>
                <p class="text-white mb-4">Nhận <span class="text-warning">Giảm Giá 50%</span> Khi Đặt Chuyến Du Lịch Mạo Hiểm Đầu Tiên Với Travela. Nhận Thêm Ưu Đãi Tại Đây.</p>
                <form>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-white border-0" id="name" placeholder="Tên Của Bạn">
                                <label for="name">Tên Của Bạn</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="email" class="form-control bg-white border-0" id="email" placeholder="Email Của Bạn">
                                <label for="email">Email Của Bạn</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating date" id="date3" data-target-input="nearest">
                                <input type="text" class="form-control bg-white border-0" id="datetime" placeholder="Ngày & Giờ" data-target="#date3" data-toggle="datetimepicker" />
                                <label for="datetime">Ngày & Giờ</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <select class="form-select bg-white border-0" id="select1">
                                    <option value="1">Điểm Đến 1</option>
                                    <option value="2">Điểm Đến 2</option>
                                    <option value="3">Điểm Đến 3</option>
                                </select>
                                <label for="select1">Điểm Đến</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <select class="form-select bg-white border-0" id="SelectPerson">
                                    <option value="1">1 Người</option>
                                    <option value="2">2 Người</option>
                                    <option value="3">3 Người</option>
                                </select>
                                <label for="SelectPerson">Số Lượng Người</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <select class="form-select bg-white border-0" id="CategoriesSelect">
                                    <option value="1">Trẻ Em</option>
                                    <option value="2">1</option>
                                    <option value="3">2</option>
                                    <option value="3">3</option>
                                </select>
                                <label for="CategoriesSelect">Loại Hình</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating">
                                <textarea class="form-control bg-white border-0" placeholder="Yêu Cầu Đặc Biệt" id="message" style="height: 100px"></textarea>
                                <label for="message">Yêu Cầu Đặc Biệt</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <button class="btn btn-primary text-white w-100 py-3" type="submit">Đặt Ngay</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Tour Booking End -->

        
        <!-- Subscribe Start -->
        <div class="container-fluid subscribe py-5">
            <div class="container text-center py-5">
                <div class="mx-auto text-center" style="max-width: 900px;">
                    <h5 class="subscribe-title px-3">Subscribe</h5>
                    <h1 class="text-white mb-4">Our Newsletter</h1>
                    <p class="text-white mb-5">Để không bỏ lỡ bất kỳ thông tin hay ưu đãi hấp dẫn nào, hãy gửi cho chúng tôi link của bạn và theo dõi trang của chúng tôi ngay hôm nay!
                    </p>
                    <div class="position-relative mx-auto">
                        <input class="form-control border-primary rounded-pill w-100 py-3 ps-4 pe-5" type="text" placeholder="Your email">
                        <button type="button" class="btn btn-primary rounded-pill position-absolute top-0 end-0 py-2 px-4 mt-2 me-2">Subscribe</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Subscribe End -->

        

        <!-- Back to Top -->
        <a href="#" class="btn btn-primary btn-primary-outline-0 btn-md-square back-to-top"><i class="fa fa-arrow-up"></i></a>   

        
        <!-- JavaScript Libraries -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>
        <script src="lib/lightbox/js/lightbox.min.js"></script>
        

        <!-- Template Javascript -->
        <script src="js/main.js"></script>
    </body>

</html>


<script>
    $(document).ready(function () {
    const $searchInput = $('#search-tour');
    const $dropdown = $('#search-dropdown');

    $searchInput.on('input', function () {
        const keyword = $(this).val().trim();

        if (keyword.length === 0) {
        $dropdown.hide();
        return;
        }

        $.get('/tours/api/search?q=' + encodeURIComponent(keyword), function (data) {
        if (data.length === 0) {
            $dropdown.html('<div class="search-item text-muted">Không tìm thấy tour</div>').show();
            return;
        }

        let html = '';
        data.forEach(function (tour) {
            html += `
            <div class="search-item" onclick="location.href='/tours/${tour.slug}'">
                <div class="d-flex align-items-center">
                <img src="https://img.youtube.com/vi/${tour.videoid}/default.jpg" width="60" height="40" class="me-2 rounded">
                <div>
                    <strong>${tour.name}</strong><br>
                    <small class="text-muted">${tour.thongtin?.slice(0, 50) || ''}</small>
                </div>
                </div>
            </div>
            `;
        });

        $dropdown.html(html).show();
        });
    });

    // Click ngoài vùng tìm kiếm sẽ ẩn dropdown
    $(document).on('click', function (e) {
        if (!$(e.target).closest('.position-relative').length) {
        $dropdown.hide();
        }
    });
    });
</script>
